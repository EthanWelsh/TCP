<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Minet: Todo List</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="todo">Todo List </a></h1><p><a class="anchor" id="_todo000013"></a> </p>
<dl>
<dt>Member <a class="el" href="minet__socket_8h.html#ae4194cef86abd3f1b660d0041fe27c0a">minet_accept</a> (int sockfd, struct sockaddr_in *addr) </dt>
<dd><p class="startdd">Does Minet *actually* support non-blocking sockets for MINET_USER at the moment? After searching around in the code, it seems that mSET_NONBLOCKING * currently doesn't actually do anything. Maybe it doesn't need to? (Test it!)</p>
<p class="enddd"></p>
</dd>
</dl>
<p><a class="anchor" id="_todo000012"></a> </p>
<dl>
<dt>Member <a class="el" href="minet__socket_8h.html#a7c6dde5cb0d3802407c19d9e05e9d24a">minet_bind</a> (int sockfd, struct sockaddr_in *myaddr) </dt>
<dd>How much additional work would it take to make Minet support IPv6 addresses? </dd>
</dl>
<p><a class="anchor" id="_todo000014"></a> </p>
<dl>
<dt>Member <a class="el" href="minet__socket_8h.html#abafc7fd037e7397b15542c1e82eb9547">minet_connect</a> (int sockfd, struct sockaddr_in *addr) </dt>
<dd><p class="startdd">Should I be mentioning that in here (as well as the docs for some other functions in this file) that, for MINET_USER, * this will actually construct a <a class="el" href="struct_sock_lib_request_response.html">SockLibRequestResponse</a> message (of type mCONNECT) and send it to the specified destination? * And that the remote peer will then respond with another (STATUS?) message? Certainly, when students are working on the http client/server project, they wouldn't care, but * if someone is working on a lower level module (or if you're a Minet developer), this might suddenly be a concern and should * probably be mentioned.</p>
<p></p>
<p>Some additional documentation is needed here and elsewhere (e.g., <a class="el" href="minet__socket_8cc.html#ae4194cef86abd3f1b660d0041fe27c0a" title="Allows an incoming connection to connect to the socket.">minet_accept()</a>) for non-blocking sockets. Also, the "Blocking?" sections in other places may need * to be adjusted in a similar manner as in here ("unless the socket is in non-blocking
 mode...").</p>
<p></p>
<p class="enddd">Connectionless sockets sometimes use connect() to set the default destination address for subsequent send() and recv() calls. It doesn't look like Minet has corresponding * minet_send() or minet_recv() functions, although it has <a class="el" href="minet__socket_8cc.html#a4311ad22aab814e59a6140a40c09e48d" title="Attempt to write data to a socket.">minet_write()</a> and <a class="el" href="minet__socket_8cc.html#a7d744783b5aca147a023cd2bfad644d4" title="Attempt to read data from a socket.">minet_read()</a> - will this functionality (default destination address) be accomplished using these? * From looking at <a class="el" href="udp__client_8cc.html">udp_client.cc</a> and <a class="el" href="udp__server_8cc.html">udp_server.cc</a>, it looks like yes, but test it anyway (using sendto() vs write(), and recvfrom() vs read()). * We might want to write a minet_send() and minet_recv() anyways. Why? 1.) If we're going to port this to Windows at any time, we would prefer to use send() and * recv() instead of write() and read() since sockets aren't treated like files on Windows. 2.) just to achieve maximum parallelism with Berkeley sockets, we should probably implement * these minet_send() and minet_recv() functions. (Although note that there may be some confusion with the similarly-named MinetSend() and MinetReceive(), which can be clarified if necessary.) </p>
</dd>
</dl>
<p><a class="anchor" id="_todo000001"></a> </p>
<dl>
<dt>Member <a class="el" href="debug_8h.html#a01020cbdcbeda98fdb1376369fa75c41">MINET_DEBUGLEVEL</a>  </dt>
<dd><p class="startdd">Maybe ship setup.sh with MINET_DEBUGLEVEL set to 1 by default to justify what I just said above.</p>
<p></p>
<p class="enddd">The student would also like to know about <a class="el" href="debug_8cc.html#ae3059fc8c331c9d6ca021a0cd217149a">BreakHere()</a> and <a class="el" href="debug_8cc.html#a8d9987333f4568e14b6fc33bac29e3ba">AttachDebuggerHere()</a>, and might also appreciate a link to a guide on Minet debugging strategies. </p>
</dd>
</dl>
<p><a class="anchor" id="_todo000005"></a> </p>
<dl>
<dt>Member <a class="el" href="minet__socket_8h.html#ab73e6d89f27f52ec6dcf8b2e1d6df021">minet_deinit</a> () </dt>
<dd><p class="startdd">Return value is currently -1 (because that's what UNINIT_SOCKS is defined to be), which signifies error. Perhaps it should return 0 or EOK. Then we can document the return value.</p>
<p></p>
<p>Perhaps this function should call shutdown() on the socket in the case of MINET_KERNEL. Doesn't look like we ever do this (although it's not a big deal, I suppose).</p>
<p class="enddd"></p>
</dd>
</dl>
<p><a class="anchor" id="_todo000007"></a> </p>
<dl>
<dt>Member <a class="el" href="minet__socket_8h.html#a13b935bebdc61d33fbca3101275bb28a">minet_error</a> () </dt>
<dd><p class="startdd">The value of minet_errno is useless to the user unless we provide him/her with the corresponding values (or at least define all the error codes in one easy-to-find place (such as "error.h", perhaps?)). Otherwise, the user just might as well call <a class="el" href="minet__socket_8cc.html#aa1c67d5c3fa57e48c57bec5eaec69f34" title="Prints a description for the most recent error that occurred in a Minet function...">minet_perror()</a> instead.</p>
<p></p>
<p class="enddd">This function does some strange things in the case of UNINIT_SOCKS... it sets errno instead of minet_errno, and returns -1. Maybe we should make that case equivalent to the default: case. UNINIT_SOCKS will only happen if <a class="el" href="minet__socket_8cc.html#a1c3071d2961d94f18e08a4546a23f740" title="Initialize the Minet socket library.">minet_init()</a> was called with an invalid argument, which would mean that Minet was not initialized correctly, which is (in my understanding) what minet_errno=ENODEV is supposed to represent (at least that's how I've been documenting it all along...). It would make more sense to set minet_errno to some representation of "invalid argument" if <a class="el" href="minet__socket_8cc.html#a1c3071d2961d94f18e08a4546a23f740" title="Initialize the Minet socket library.">minet_init()</a> is called with something other than MINET_USER or MINET_KERNEL. But then the UNINIT_SOCKS case ought to be equivalent to MINET_USER case... otherwise, this function would wipe out the "invalid
 argument" error code with the ENODEV error code. I'm tempted to make a third "errno"-type global var just for UNINIT_SOCKS, but that would uglify things even further. BLARGH! </p>
</dd>
</dl>
<p><a class="anchor" id="_todo000003"></a> </p>
<dl>
<dt>Member <a class="el" href="minet__socket_8h.html#a1c3071d2961d94f18e08a4546a23f740">minet_init</a> (minet_socket_types type) </dt>
<dd><p class="startdd">The meaning of the return value is a little confusing. Even describing it was a little awkward. How about returning EOK or 0? (There appears to be a sort of convention in Minet that a return value &gt;= 0 signifies success, while a negative return value signifies an error. Can we formalize this?)</p>
<p></p>
<p class="enddd">It's a little confusing that there's a <a class="el" href="_minet_8cc.html#a1d2222bdbc1d4563d42022560464233f">MinetInit()</a> in <a class="el" href="_minet_8h.html">Minet.h</a> and a <a class="el" href="minet__socket_8cc.html#a1c3071d2961d94f18e08a4546a23f740" title="Initialize the Minet socket library.">minet_init()</a> here. Consider renaming this function to something a little more descriptive (init_minet_socket_lib() perhaps, or something along those lines?). </p>
</dd>
</dl>
<p><a class="anchor" id="_todo000009"></a> </p>
<dl>
<dt>Member <a class="el" href="minet__socket_8h.html#aa1c67d5c3fa57e48c57bec5eaec69f34">minet_perror</a> (const char *s) </dt>
<dd><p class="startdd">This should call <a class="el" href="minet__socket_8cc.html#a13b935bebdc61d33fbca3101275bb28a" title="Returns the most recent error that occurred in a Minet function call.">minet_error()</a>. Currently, it duplicates its logic. If you change <a class="el" href="minet__socket_8cc.html#a13b935bebdc61d33fbca3101275bb28a" title="Returns the most recent error that occurred in a Minet function call.">minet_error()</a>, you might be confused (or at least * slightly disappointed) to find that <a class="el" href="minet__socket_8cc.html#aa1c67d5c3fa57e48c57bec5eaec69f34" title="Prints a description for the most recent error that occurred in a Minet function...">minet_perror()</a> still behaves the same.</p>
<p></p>
<p>The current remarks section is kind of a cop-out.</p>
<p class="enddd"></p>
</dd>
</dl>
<p><a class="anchor" id="_todo000017"></a> </p>
<dl>
<dt>Member <a class="el" href="minet__socket_8h.html#ae99f5ee0f3d38cce764ccfa17c5ae472">minet_recvfrom</a> (int fd, char *buf, int len, struct sockaddr_in *from) </dt>
<dd>Technically, it is possible to use recvfrom() with TCP, but the code currently assumes it will only be used with UDP when the <a class="el" href="struct_sock_lib_request_response.html">SockLibRequestResponse</a> object is being constructed. </dd>
</dl>
<p><a class="anchor" id="_todo000018"></a> </p>
<dl>
<dt>Member <a class="el" href="minet__socket_8h.html#a95f6dfb2e839a5ebb5d1dd1c99ae5c02">minet_set_nonblocking</a> (int sockfd) </dt>
<dd>Does Minet *actually* support non-blocking sockets for * MINET_USER at the moment? After searching around in the code, it * seems that mSET_NONBLOCKING * currently doesn't actually do * anything. Maybe it doesn't need to? (Test it!) </dd>
</dl>
<p><a class="anchor" id="_todo000011"></a> </p>
<dl>
<dt>Member <a class="el" href="minet__socket_8h.html#af917cb5064ee373a8fabf25dba4c6a4b">minet_socket</a> (int type) </dt>
<dd>SOCK_ICMP for ICMP sockets is not yet supported for MINET_USER. </dd>
</dl>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Mon Aug 9 15:57:38 2010 for Minet by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
